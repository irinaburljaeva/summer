<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>Весёлый тюбик пасты</title>
  <style>
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background: #f0f4f8;
      margin: 0;
      overflow: hidden;
      flex-direction: column;
      font-family: Arial, sans-serif;
    }

    .toothpaste {
      width: 200px;
      cursor: pointer;
      transition: transform 0.2s;
      margin-bottom: 20px;
    }
    .toothpaste:active {
      transform: scale(0.95);
    }

    .svg-text {
      width: 500px;
      height: 150px;
      margin-top: 20px;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .svg-text path {
      fill: none;
      stroke: #FFB6C1; /* Пастельно-розовый */
      stroke-width: 6px;
      stroke-linecap: round;
      stroke-linejoin: round;
      stroke-dasharray: 2000;
      stroke-dashoffset: 2000;
      animation: draw 3s forwards;
    }

    @keyframes draw {
      to {
        stroke-dashoffset: 0;
      }
    }

    .paste-spot {
      position: absolute;
      background: #FFB6C1; /* Пастельно-розовый */
      border-radius: 50%;
      opacity: 0.9;
      transform: scale(0);
      pointer-events: none;
      filter: blur(2px);
      animation: grow 0.5s forwards;
    }

    @keyframes grow {
      0% { transform: scale(0); opacity: 0.8; }
      50% { transform: scale(1.2); opacity: 1; }
      100% { transform: scale(1); opacity: 0.9; }
    }
  </style>
</head>
<body>
  <img src="toothpaste.png" class="toothpaste" id="tube" alt="Тюбик пасты"/>

  <svg class="svg-text" id="svgText" viewBox="0 0 800 200">
    <path id="pathText" d=""></path>
  </svg>

  <script>
    const tube = document.getElementById('tube');
    const svgText = document.getElementById('svgText');
    const pathText = document.getElementById('pathText');

    const words = [
      {text:"ШАГАЙ!", path:"M40 150 L40 50 M40 100 L100 100 M120 150 L120 50 L180 50 L180 150 M200 150 L200 50 L260 150 L320 50 L320 150 M340 150 L340 50 L400 50 L400 150 M430 150 L460 50 L490 150 M520 50 L520 150"},
      {text:"УЛЫБАЙСЯ!", path:"M40 150 Q 80 50, 120 150 M150 50 L150 150 M180 50 L180 150 M220 50 L220 150 M260 50 L260 150 M300 150 Q 340 50, 380 150 M400 50 L400 150 M440 50 L440 150 M480 50 L480 150"},
      {text:"ЛАГЕРЬ!", path:"M40 50 L40 150 M80 150 L110 50 L140 150 M160 50 L160 150 M200 150 L200 50 L260 50 L260 150 M300 50 L300 150 M340 50 L340 150"}
    ];

    tube.addEventListener('click', () => {
      const random = Math.floor(Math.random() * 3);

      if (random === 0) {
        showPasteWord();
      } else {
        explodePaste();
      }
    });

    function showPasteWord() {
      const randomWord = words[Math.floor(Math.random() * words.length)];
      pathText.setAttribute("d", randomWord.path);

      svgText.style.opacity = 1;
      pathText.style.strokeDasharray = 2000;
      pathText.style.strokeDashoffset = 2000;
      pathText.style.animation = "none";
      void pathText.offsetWidth;
      pathText.style.animation = "draw 3s forwards";

      setTimeout(() => {
        svgText.style.opacity = 0;
      }, 4000);
    }

    function explodePaste() {
      for (let i = 0; i < 20; i++) {
        const spot = document.createElement('div');
        spot.className = 'paste-spot';

        const size = Math.random() * 80 + 30;
        spot.style.width = size + 'px';
        spot.style.height = size + 'px';

        spot.style.left = Math.random() * window.innerWidth + 'px';
        spot.style.top = Math.random() * window.innerHeight + 'px';

        spot.style.transform = `scale(${Math.random() * 0.5}) rotate(${Math.random() * 360}deg)`;

        document.body.appendChild(spot);

        setTimeout(() => {
          spot.style.transition = "opacity 1s ease";
          spot.style.opacity = 0;
          setTimeout(() => spot.remove(), 1000);
        }, 2500 + Math.random() * 1000);
      }
    }
  </script>
</body>
</html>
