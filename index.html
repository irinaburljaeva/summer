<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>–í–µ—Å—ë–ª—ã–π —Ç—é–±–∏–∫ –ø–∞—Å—Ç—ã</title>
  <style>
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background: #f0f4f8;
      margin: 0;
      overflow: hidden;
      flex-direction: column;
      font-family: Arial, sans-serif;
    }

    .toothpaste {
      width: 200px;
      cursor: pointer;
      transition: transform 0.2s;
      margin-bottom: 20px;
    }
    .toothpaste:active {
      transform: scale(0.95);
    }

    .svg-text {
      width: 300px;
      height: 100px;
      margin-top: 20px;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .svg-text path {
      fill: none;
      stroke: #ffffff;
      stroke-width: 4px;
      stroke-linecap: round;
      stroke-linejoin: round;
      stroke-dasharray: 1000;
      stroke-dashoffset: 1000;
      animation: draw 2s forwards;
    }

    @keyframes draw {
      to {
        stroke-dashoffset: 0;
      }
    }

    .message {
      font-size: 2rem;
      font-weight: bold;
      color: #CF2C02;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      opacity: 0;
      transition: opacity 0.5s;
      text-align: center;
    }

    .paste {
      position: absolute;
      background: white;
      border-radius: 50%;
      opacity: 0.9;
      pointer-events: none;
    }
  </style>
</head>
<body>
  <img src="toothpaste.png" class="toothpaste" id="tube" alt="–¢—é–±–∏–∫ –ø–∞—Å—Ç—ã"/>

  <!-- SVG –¥–ª—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è —Å–ª–æ–≤–∞ -->
  <svg class="svg-text" id="svgText" viewBox="0 0 500 100">
    <path id="pathText" d=""></path>
  </svg>

  <div class="message" id="message"></div>

  <script>
    const tube = document.getElementById('tube');
    const svgText = document.getElementById('svgText');
    const pathText = document.getElementById('pathText');
    const message = document.getElementById('message');

    // –ü—É—Ç–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å–ª–æ–≤ (–º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –¥—Ä—É–≥–∏–µ –Ω–∞–¥–ø–∏—Å–∏)
    const paths = [
      "M10 80 Q 52 10, 95 80 T 180 80", // –≤–æ–ª–Ω–∏—Å—Ç–∞—è –ª–∏–Ω–∏—è
      "M10 80 Q 50 20, 100 80 Q 150 140, 200 80", // –¥–≤–µ –≤–æ–ª–Ω—ã
      "M10 50 C 50 10, 150 90, 250 50 C 300 10, 400 90, 480 50" // –¥–ª–∏–Ω–Ω–∞—è –≤–æ–ª–Ω–∞
    ];

    const prankMessages = [
      "–¢—ã –Ω–∞–º–∞–∑–∞–ª –ø–∞—Å—Ç–æ–π –¥—Ä—É–≥–∞! üòÇ",
      "–û—Å—Ç–æ—Ä–æ–∂–Ω–æ, –º–∞–∂–µ—à—å –≤—Å–µ—Ö –ø–æ–¥—Ä—è–¥! ü§≠"
    ];

    tube.addEventListener('click', () => {
      const random = Math.floor(Math.random() * 3);

      if (random === 0) {
        showPasteWord();
      } else if (random === 1) {
        showMessage(prankMessages[Math.floor(Math.random() * prankMessages.length)]);
      } else {
        explodePaste();
      }
    });

    function showPasteWord() {
      const randomPath = paths[Math.floor(Math.random() * paths.length)];
      pathText.setAttribute("d", randomPath);

      svgText.style.opacity = 1;
      pathText.style.strokeDasharray = 1000;
      pathText.style.strokeDashoffset = 1000;
      pathText.style.animation = "none";
      void pathText.offsetWidth; // —Å–±—Ä–æ—Å –∞–Ω–∏–º–∞—Ü–∏–∏
      pathText.style.animation = "draw 2s forwards";

      setTimeout(() => {
        svgText.style.opacity = 0;
      }, 3000);
    }

    function showMessage(text) {
      message.textContent = text;
      message.style.opacity = 1;
      setTimeout(() => (message.style.opacity = 0), 2000);
    }

    function explodePaste() {
      for (let i = 0; i < 30; i++) {
        const paste = document.createElement('div');
        paste.className = 'paste';
        paste.style.width = paste.style.height = Math.random() * 20 + 10 + 'px';
        paste.style.left = window.innerWidth / 2 + 'px';
        paste.style.top = window.innerHeight / 2 + 'px';
        document.body.appendChild(paste);

        const angle = Math.random() * Math.PI * 2;
        const distance = Math.random() * 300;

        paste.animate([
          { transform: `translate(0, 0)`, opacity: 1 },
          { transform: `translate(${Math.cos(angle) * distance}px, ${Math.sin(angle) * distance}px)`, opacity: 0 }
        ], {
          duration: 1000 + Math.random() * 500,
          easing: 'ease-out',
          fill: 'forwards'
        });

        setTimeout(() => paste.remove(), 1500);
      }
    }
  </script>
</body>
</html>
